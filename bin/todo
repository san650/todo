#!/usr/bin/env bash

COMMAND="$1"
shift

case $COMMAND in
  "")
    cat -n ~/.todo
    ;;
  add)
    MESSAGE="$@"
    echo "- [ ] $MESSAGE" >> ~/.todo
    ;;
  list)
    cat -n ~/.todo
    ;;
  "done")
    sed -i '' "$1s/\[ \]/[x]/" ~/.todo
    ;;
  undone)
    sed -i '' "$1s/\[x\]/[ ]/" ~/.todo
    ;;
  *)
    echo "Error: command '$COMMAND' unknown

    Usage:
        todo add [message]
        todo list
        todo done [n]
        todo undone [n]"
    exit 1
    ;;
esac
